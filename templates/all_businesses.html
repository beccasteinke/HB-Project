{% extends 'base.html' %}
{% block title %}All Businesses{% endblock %}

{% block body %}
    <!-- Trigger/Open The Modal -->


    <!-- The Modal -->

    <h1>All Businesses</h1>
    <div id="filter-box">
        <div id="search-box">

        </div>
        <div id="filter-btns">
        {% for service in all_servs %}
            <button id="{{ service.service_id }}">{{ service.name_serv }}</button>
        {% endfor %}
        </div>

    </div>
    <div id="upcoming-evts">here is my inner html</div>
    <div id="playbox">Hmmm</div>
    <ul>
        {% for business in all_bus %}
            <div id="business{{ business.bus_id }}">
                <div id="bus-name-fave"><h4>{{ business.bus_name }} - {{ business.service.name_serv }} ---- <form action="/add-favorite/{{ business.bus_id }}", method='POST'><input type="image" class="fave-btn" id="{{ business.bus_id }}" src="/static/icons/heart-50.png"
                    name="{{ business.bus_id }}"></input></form></h4></div>
                <h2><a href="/directory/{{ business.bus_id }}">more info</a></h2>
                <img src="static/jpeg/{{ business.image }}" width="200" height="150">
                <p>{{ business.description }}</p>
                <br>
                <button class ="evtsModalBtn" id="upcomingEvtsModalBtn{{ business.bus_id }}">Upcoming Events</button>
                <div id="myEvtsModal" class="modal">
    
                    <!-- Modal content -->
                    <div class="modal-content">
                      <span class="close">&times;</span>
                      <!-- Showing event object, need to show good info now -->
                      <!-- Maybe get events by bus_id in server -->
                      <p>{{ business.event }}</p>
                    </div>
                  
                  </div>
            </div>
        {% endfor %}
    </ul>

    <script src="/static/js/evtsmodal.js"></script>
    <script src="/static/js/user_faves.js"></script>
    <script src="/static/js/evts-ajax.js"></script>
{% endblock %}
